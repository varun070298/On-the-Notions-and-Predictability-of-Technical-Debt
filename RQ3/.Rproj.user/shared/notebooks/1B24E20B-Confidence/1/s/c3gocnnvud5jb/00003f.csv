"0",""
"0","cdfs <- list()"
"0","for (tdn in td.notions) {"
"0","  # We'll estimate a density and then take its CDF"
"0","  cdfs[[tdn]] <- (function() {"
"0","    temp <- TD[[paste0(tdn, ""_debt"")]]"
"0","    bw <- bw.SJ(x = temp)"
"0","    Vectorize(function(x) 1 / length(temp) * sum(pnorm((x - temp) / bw)))"
"0","  })()"
"0","  "
"0","  curve2(func = cdfs[[tdn]], from = min(TD[[paste0(tdn, ""_debt"")]]), to = quantile(temp, 0.975), main = paste0(""CDF of "", tdn))"
"0","  grid()"
"0","}"
